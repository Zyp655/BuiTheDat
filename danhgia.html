<html>
    <head>
        <title>Đánh giá sản phẩm</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <style>
            .container {
                margin-top: 50px;
            }
            .form-group {
                margin-bottom: 20px;
            }
            .btn-submit {
                padding: 8px 16px;
                background-color: red;
                color: white;
                border: none;
                border-radius: 5px;
            }
            .btn-submit:hover {
                background-color: darkred;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h2>Đánh giá sản phẩm</h2>
            <form id="danhGiaForm">
                <input type="hidden" id="sanphamId" name="sanphamId" value="1">
                <div class="form-group">
                    <label for="danhgia">Đánh giá (từ 1 đến 5 sao)</label>
                    <input type="number" class="form-control" id="danhgia" name="danhgia" min="1" max="5" required>
                </div>
                <button type="submit" class="btn btn-submit">Gửi đánh giá</button>
            </form>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script>
            $(document).ready(function() {
                $('#danhGiaForm').submit(function(event) {
                    event.preventDefault();
                    
                    var formData = {
                        sanphamId: $('#sanphamId').val(),
                        danhgia: $('#danhgia').val()
                    };

                    $.ajax({
                    url: 'http://localhost:3000/sanpham',
                    type: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(formData),
                    success: function(result) {
                        alert('Đánh giá đã được gửi thành công.');
                        }
                    });
                    window.location.href = 'chitietsanpham.html?id=' + formData.sanphamId;
                });
            });
        </script>
    </body>
</html>
